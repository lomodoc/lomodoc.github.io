'use strict';(function(){const indexCfg={cache:true};indexCfg.doc={id:'id',field:['title','content'],store:['title','href','section'],};const index=FlexSearch.create('balance',indexCfg);window.bookSearchIndex=index;index.add({'id':0,'href':'/docs/Highlight/','title':"Highlight",'section':"Docs",'content':" Backup photo on smart phone. Incremental backup, fast and reliable. Resumable backup, you can upload large video more reliably. Support live photo, slow motion, raw DNG format and other popular media formats. Save original file, no quality degradation, no metadata lost. Photo/Video deduplicate。 Similarity check, you can choose to save the best one with multiple shoots。 Access photos seamlessly on multiple device with one account. Isolated accounts for family members, keep your privacy. Save secrets with encryption. (coming soon) Sharing tons of photos without worry about phone storage. No need to save photo locally to share in social network. Easy access when you switching phone with different OS. Export backup to Phone。 Offline mode so you can browser photos even without connectivity. Search by location, date time, text in photo. History of today, never buries the memories in hard drive. Tagging and create album. (coming soon) Redundancy backup, lower the risk of losing data. Import photo from hard drive, SD card etc. No rate limit, no account number limitation, no vendor lock in. Hard drive plug and play, no reformat required.  "});index.add({'id':1,'href':'/docs/Installation/','title':"Installation",'section':"Docs",'content':"Installation Overview\r#\r\rTo use Lomorage, you need to run the \u0026ldquo;Lomorage Photo Assistant\u0026rdquo; in your local network, either on Windows, OSX, Ubuntu, Raspbian, Armbian, using x86 or arm architecture. And then you need to download the client APP at the APP store. Once you run \u0026ldquo;Lomorage Photo Assistant\u0026rdquo;, the client APP is supposed to find it automatically with zero configuration, then you can upload photos on the Phone.\n   \rInstall \u0026ldquo;Lomorage Photo Assistant\u0026rdquo;    \rInstall Lomorage Client    \rInstall Lomorage Frame (optional)    "});index.add({'id':2,'href':'/docs/Installation/lomorage-client/installation-ios/','title':"iOS",'section':"Lomorage Client",'content':"Install Lomorage iOS client\r#\r\rYou can install the application on either iPad or iPhone, the minimum iOS version required in 10.3.\n\r\r--\rAfter launching Lomorage, it should be able to discover \u0026ldquo;Lomorage Photo Assistant\u0026rdquo; running in the same network. If you have multiple \u0026ldquo;Lomorage Photo Assistant\u0026rdquo; instances running, those will be listed and you can choose one to use. If \u0026ldquo;Lomorage Photo Assistant\u0026rdquo; can\u0026rsquo;t be discovered automatically, you can discover \u0026ldquo;Lomorage Photo Assistant\u0026rdquo; via QRCode Scanning when using Windows or MacOS Lomorage Photo Assistant (open settings in Lomorage Photo Assistant to show the QRCode), or you can input the IP address and port manually.\nThen you can create user, choose the place you want to store your photos on the \u0026ldquo;Lomorage Photo Assistant\u0026rdquo;, after login, it will take a few minutes to import all your photos on phone, and then you can drop down to start uploading the photos to the place you choose to store your backup, if the photo uploads successfully, there will be a green check on the bottom right. The backup tab will show you those photos stored remotely but not exists locally, so if you delete your local photo that already backup successfully, it will show up in the remote tab view.\nLomorage APP will use AI to analyze photos, so that you can search by date, location, objects and text. You can also find those similar photos.\n"});index.add({'id':3,'href':'/docs/Installation/lomorage-service/installation-raspbian/','title':"Raspbian",'section':"Lomorage Photo Assistant",'content':"Install \u0026ldquo;Lomorage Photo Assistant\u0026rdquo; on Raspberry Pi\r#\r\rTo run on Raspberry Pi, you need to order a Raspberry Pi, we have tested the image the following models:\n \rRaspberry Pi 4 Model B \rRaspberry Pi 3 Model B+ \rRaspberry Pi Zero W \rRaspberry Pi 2 Model B  If you don\u0026rsquo;t have one yet, we would recommend the newer version, which gives better performance. The minimum set you need includes:\n Raspberry Pi board Power supply 16GB MicroSD card  A Raspberry Pi 3 B+ (PLUS) Starter Kit is good enough for the setup.\nThere are 3 options to install \u0026ldquo;Lomorage Photo Assistant\u0026rdquo; on Raspberry Pi, one is using the prebuild OS image which has all the dependencies installed, or you can run docker image on your existing running Raspberry Pi, or if you can just use APT install.\nInstall with prebuild OS image\r#\r\rThe prebuild image includes all Lomorage packages, including:\n  lomo-backend: \u0026ldquo;Lomorage Photo Assistant\u0026rdquo; backend\n  lomo-base: network configure tool, button control, hard drive mount tool (usbmount modification), bluetooth console\n  lomo-frame: the digital frame application\n  Click the link below to download the prebuild OS image.\nRaspberry Pi\rAfter you download the customized OS image, you can install the image to MicroSD card using balenaEtcher, which is available on both Windows and macOS.\nAfter you insert the MicroSD to your desktop or laptop, just select the image you download, choose the MicroSD drive, and click \u0026ldquo;Flash\u0026rdquo;, it will be done in a few minutes.\nAfter flushing the image, insert the microSD into Raspberry Pi board, connect USB hard drive with Raspberry Pi, plug in a network cable, plug in the power supply, turn on the power and wait a few minutes for system boot.\nIf you have HDMI connected, after system boot successfully, it will show up a screen that no able to find any assets, and will also show a QRCode for register the lomo frame, please create user on iOS/Android APP first before scanning the QRCode to bind the lomo frame. You can upload photos using Lomorage Phone app, and then press \u0026ldquo;r\u0026rdquo; to rescan. If you want to quit to terminal to do some configuration, just press \u0026ldquo;ESC\u0026rdquo; and then \u0026ldquo;Ctrl+Alt+F2\u0026rdquo;, after you made any changes and want to start lomo-frame, use command sudo service supervisor restart.\nThe default login username is \u0026ldquo;lomoware\u0026rdquo; and password is \u0026ldquo;lomorage\u0026rdquo;\nWe suggest use cable to provide better performance, but if you prefer to use WiFi, you can login Raspberry Pi and use the command wifi_switch.sh client \u0026quot;wifi-ssid\u0026quot; wifi-password, replace \u0026ldquo;wifi-ssid\u0026rdquo; and \u0026ldquo;wifi-password\u0026rdquo; with those of your wifi network. Make sure you have quotation mark around \u0026ldquo;wifi-ssid\u0026rdquo; if you have space or unicode character in it, for example wifi_switch.sh client \u0026quot;Lomorage's 2.4G\u0026quot; mypassword.\nYou probably will have the problem that \u0026ldquo;Wi-Fi is currently blocked by rfkill\u0026rdquo;. You can confirm this by running:\npi@raspberrypi:~ $ sudo rfkill list all\r0: phy0: Wireless LAN\rSoft blocked: no\rHard blocked: no\r1: hci0: Bluetooth\rSoft blocked: yes\rHard blocked: no\rAnd you can enable WiFi by running:\nsudo rfkill unblock 0\rassuming 0 is the index of Wireless LAN.\nAfter this, you can try wifi_switch.sh again.\n\rDocker installation\r#\r\rPlease refer to lomo-docker for installation with docker image. You should use the arm image \u0026ldquo;lomorage/raspberrypi-lomorage:latest\u0026rdquo;.\nApt installation\r#\r\rIf you have the official Raspbian image installed already, APT installation would be the quickest way to install.\n1. Add lomoware source\r#\r\rsudo apt install -y ca-certificates python3-certifi sudo update-ca-certificates --fresh curl -fsSL https://lomoware.lomorage.com/debian/gpg.key | gpg --dearmor | sudo tee /etc/apt/trusted.gpg.d/lomorage-apt-key.gpg \u0026gt; /dev/null If you are using buster:\necho \u0026#34;deb https://lomoware.lomorage.com/debian/buster buster main\u0026#34; | sudo tee /etc/apt/sources.list.d/lomoware.list If you are using bullseye:\necho \u0026#34;deb https://lomoware.lomorage.com/debian/bullseye bullseye main\u0026#34; | sudo tee /etc/apt/sources.list.d/lomoware.list then run:\nsudo apt update 2. Install Lomorage\r#\r\rYou need at least lomo-vips and lomo-backend installed.\n  lomo-backend: mandatory, \u0026ldquo;Lomorage Photo Assistant\u0026rdquo; backend\n  lomo-base: optional, network configure tool, button control, hard drive mount tool, bluetooth console\n  lomo-vips: mandatory, lomorage vips clone. (A fast image processing library with low memory needs), used by lomo-backend\n  lomo-frame: optional, the digital frame application\n  sudo apt install lomo-base lomo-vips lomo-backend lomo-frame -y Make sure the user can sudo without password, if not, execute the following command to add it:\necho \u0026#34;$USERALL=(ALL:ALL) NOPASSWD: ALL\u0026#34; | sudo tee /etc/sudoers.d/$USER 3. Configuration parameter customization\r#\r\rUser can use environment variable in \u0026ldquo;/opt/lomorage/etc/environment\u0026rdquo; to control configuration parameter as below. You can change based on your own setup.\n3.1 Change mount directory\r#\r\rYou may need to specify the mount directory if the USB drive is not mounted in \u0026ldquo;/media\u0026rdquo; directory.\nFor example if you are using PCManFM, then the mount directory will be \u0026ldquo;/media/pi\u0026rdquo;. To specify the mount directory to be \u0026ldquo;/media/pi\u0026rdquo;, add environment variable LOMOD_MOUNT_DIR=/media/pi in /opt/lomorage/etc/environment, such as\necho \u0026quot;LOMOD_MOUNT_DIR=/media/pi\u0026quot; | tee -a /opt/lomorage/etc/environment\rthis parameter should be the directory mount, not the sub-directory\nMake sure the user has the r/w permission for above mount directory, this parameter should be the parent directory mounted, for example if it\u0026rsquo;s mounted as \u0026ldquo;/media/pi/disk0\u0026rdquo;, then you should use \u0026ldquo;/media/pi/\u0026rdquo;.\n3.2 HTTP Listen Port\r#\r\rLomod listens on port 8000 by default. If it is conflict and you want to specify own listen port, you can add environment variable LOMOD_PORT_HTTP in /opt/lomorage/etc/environment. For example,\necho \u0026quot;LOMOD_PORT_HTTP=8888\u0026quot; | tee -a /opt/lomorage/etc/environment\rAnother option is cp /lib/systemd/system/lomod.service /etc/systemd/system/lomod.service and then edit \u0026ldquo;/etc/systemd/system/lomod.service\u0026rdquo; and change \u0026ldquo;ExecStart\u0026rdquo; directly to specify the parameters used(run /opt/lomorage/bin/lomod -h to check the parameters), and run sudo systemctl daemon-reload, then it will use \u0026ldquo;/etc/systemd/system/lomod.service\u0026rdquo; instead. \u0026ldquo;/lib/systemd/system/lomod.service\u0026rdquo; is expected to be overwritten when upgrade.\n3.3 Disable Mount Monitor\r#\r\rLomod listens USB disk mount status and prevents app from uploading if USB or UFS mount are lost by default at raspberry PI environment because it may use up OS SD card space very quickly. If you want to disable the monitor, you can add environment variable LOMOD_DISABLE_MOUNT_MONITOR. For example,\necho \u0026quot;LOMOD_DISABLE_MOUNT_MONITOR=1\u0026quot; | tee -a /opt/lomorage/etc/environment\r4. Run\r#\r\rRestart \u0026ldquo;Lomorage Photo Assistant\u0026rdquo;:\n# restart lomo-backend sudo systemctl restart lomod # restart lomo-frame sudo service supervisor restart "});index.add({'id':4,'href':'/docs/Usage/','title':"Usage",'section':"Docs",'content':"Usage Overview\r#\r\rThis section cover usage of \u0026ldquo;Lomorage Photo Assistant\u0026rdquo; and client tools, as well as utilities and integrations with other services.\n   \rLomorage Command Line Tool    \rHow to access \u0026ldquo;Lomorage Photo Assistant\u0026rdquo; through internet    "});index.add({'id':5,'href':'/docs/Installation/lomorage-client/installation-android/','title':"Android",'section':"Lomorage Client",'content':"Install Lomorage App in Android phone\r#\r\rCurrently you can install the app on Android phone, the minimal version is 7.1.\nClick below icon to go to Goole Play Store to download.\nUpdate：01/08/2023\n\rDirectly download APK\rDownload from github release page\r\r--\rAfter launching Lomorage, it will take a few minutes to import all your photos and videos on phone in the first time.\nThen you can click the right up more menu to Manage account.\nAt there, the app will automatically find \u0026ldquo;Lomorage Photo Assistant\u0026rdquo; if you installed on Mac/Windows or Raspberry pi.\nApp will import your photos and videos, may need few minutes in first time.\r\rClick right up menu to enter into account management page. At there, App will find \"Lomorage Photo Assistant\" automatically. Then you can create account and login. Or you can use scan QR code to get \"Lomorage Photo Assistant\" configuration. （If you run \"Lomorage Photo Assistant\" in Windows PC or Mac)   Drag down to start uploading your assets. You can filter the assets by filter drop down as below pic. \rYou can long touch to select multiple assets to share your families. \rCheck all users in Lomorage via Members tab as below. \rInbox here is the assets which your family share to you. \rYou can set the remote access like ngrok and redundancy backup in setting page Or you can send the feedback here to the Lomorage team. Enjoy, any questions please let us know via email or site's contact form.\r \rEnable/Disable which folder need to backup\r#\r\rCheck right top more menu \"Local Directory Manager\" to enable/disable which folder need to backup. \rLatest Update：2021-09-25\r#\r\r add more meaningful msg while create user fail  Update history：：2021-07-22\r#\r\r Fix remote config testing crash issue Add refresh to fetch new remote asset in backup page Add App new version reminder with badge red icon in setting page Import Google Fire Base Save local directory setting to external folder in case re-install Applied new material theme Add hash value in more info on big photo view  "});index.add({'id':6,'href':'/docs/Installation/lomorage-service/installation-armbian/','title':"Armbian",'section':"Lomorage Photo Assistant",'content':"Armbian\r#\r\rYou have two options to install:\n  Docker installation\n  Build your own image\n  Docker installation\r#\r\rPlease refer to lomo-docker for installation with docker image. You should use the arm image \u0026ldquo;lomorage/raspberrypi-lomorage:latest\u0026rdquo;.\nBuild your own image\r#\r\rIt should support all the SBC supported by official Armbian, but if you find it doesn\u0026rsquo;t work, feel free to reach us.\nThere is a prebuild image for Orange Pi Zero.\nThe default Armbian login username is \u0026ldquo;lomoware\u0026rdquo; and password is \u0026ldquo;lomorage\u0026rdquo;.\n1. Prepare build env\r#\r\rIf you are using Ubuntu Focal 20.04.x amd64, you can skip this step.\n  Download and install Vagrant.\n  Install a plug-in that will enable us to resize the primary storage device:\n  vagrant plugin install vagrant-disksize  Install git and clone the Armbian repo:  # Clone the project.  git clone --depth 1 https://github.com/lomorage/build # Make the Vagrant box available. This might take a while but only needs to be done once.  vagrant box add ubuntu/focal64 # If the box gets updated by the folks at HashiCorp, we\u0026#39;ll want to update our copy too.  # This only needs done once and a while.  vagrant box update 2. Build the image\r#\r\r First bring the box up:  # We have to be in the same directory as the Vagrant file, which is in the build/config/templates directory. cd build/config/templates # Note that you can edit the Vagrant file to specify the number of cpus and amount of memory you want Vagrant to use. # And now we simply let vagrant create our box and bring it up. vagrant up # When the box has been installed we can get access via ssh. # (No need for passwords, Vagrant installs the keys we\u0026#39;ll need.) vagrant ssh   Change to board parameter in \u0026ldquo;userpatches/config-default.conf\u0026rdquo;, the default is BOARD=\u0026quot;orangepizero\u0026quot;, if you don\u0026rsquo;t know the board name, you can just use BOARD=\u0026quot;\u0026quot; and choose the board when compiling, or you can refer to the configuration here.\n  build image:\n  # Let\u0026#39;s get building!  cd armbian sudo ./compile.sh After build successfully, the image will be generated in output/images.\n3. Configuration parameter customization\r#\r\rRefer the same section at raspberry installation\n"});index.add({'id':7,'href':'/docs/Installation/lomorage-service/installation-ubuntu/','title':"Ubuntu",'section':"Lomorage Photo Assistant",'content':"You can either use the docker installation, or install using APT\nDocker installation\r#\r\rPlease refer to lomo-docker for installation with docker image. You can either use the arm image \u0026ldquo;lomorage/raspberrypi-lomorage:latest\u0026rdquo; or amd64 image \u0026ldquo;lomorage/amd64-lomorage:latest\u0026rdquo; based on the host architecture.\nAPT installation\r#\r\rCurrently we only support x86/AMD64 Ubuntu 18.04.5 LTS (Bionic Beaver) and Ubuntu 20.04.1 LTS (Focal Fossa).\n1. Add lomoware source\r#\r\rsudo apt install -y ca-certificates python-certifi python3-certifi sudo update-ca-certificates --fresh curl -fsSL https://lomoware.lomorage.com/debian/gpg.key | gpg --dearmor | sudo tee /etc/apt/trusted.gpg.d/lomorage-apt-key.gpg \u0026gt; /dev/null If you are using Bionic:\necho \u0026#34;deb [arch=amd64] https://lomoware.lomorage.com/debian/bionic bionic main\u0026#34; | sudo tee /etc/apt/sources.list.d/lomoware.list If you are using Focal:\necho \u0026#34;deb [arch=amd64] https://lomoware.lomorage.com/debian/focal focal main\u0026#34; | sudo tee /etc/apt/sources.list.d/lomoware.list then run:\nsudo apt update 2. Install Lomorage\r#\r\rYou need at least lomo-vips, lomo-base-lite and lomo-backend installed.\n  lomo-backend: mandatory, \u0026ldquo;Lomorage Photo Assistant\u0026rdquo; backend\n  lomo-base-lite: optional, hard drive mount tool, rsync, jq etc\n  lomo-vips: mandatory, lomorage vips clone. (A fast image processing library with low memory needs), used by lomo-backend\n  sudo apt install lomo-base-lite lomo-vips lomo-backend -y Make sure the user can sudo without password, if not, execute the following command to add it:\necho \u0026#34;$USERALL=(ALL:ALL) NOPASSWD: ALL\u0026#34; | sudo tee /etc/sudoers.d/$USER 3. Configuration parameter customization\r#\r\rUser can use environment variable to control configuration parameter as below. Above example is using /etc/profile file as default. You can change based on your own setup.\nNote after you set environment variable, please make sure it takes effect when you start or restart lomod\n3. Configuration parameter customization\r#\r\rUser can use environment variable in \u0026ldquo;/opt/lomorage/etc/environment\u0026rdquo; to control configuration parameter as below. You can change based on your own setup.\n3.1 Change mount directory\r#\r\rYou may need to specify the mount directory if the USB drive is not mounted in \u0026ldquo;/media\u0026rdquo; directory.\nFor example if you are using PCManFM, then the mount directory will be \u0026ldquo;/media/pi\u0026rdquo;. To specify the mount directory to be \u0026ldquo;/media/pi\u0026rdquo;, add environment variable LOMOD_MOUNT_DIR=/media/pi in /opt/lomorage/etc/environment, such as\necho \u0026quot;LOMOD_MOUNT_DIR=/media/pi\u0026quot; | tee -a /opt/lomorage/etc/environment\rthis parameter should be the directory mount, not the sub-directory\nMake sure the user has the r/w permission for above mount directory, this parameter should be the parent directory mounted, for example if it\u0026rsquo;s mounted as \u0026ldquo;/media/pi/disk0\u0026rdquo;, then you should use \u0026ldquo;/media/pi/\u0026rdquo;.\n3.2 HTTP Listen Port\r#\r\rLomod listens on port 8000 by default. If it is conflict and you want to specify own listen port, you can add environment variable LOMOD_PORT_HTTP in /opt/lomorage/etc/environment. For example,\necho \u0026quot;LOMOD_PORT_HTTP=8888\u0026quot; | tee -a /opt/lomorage/etc/environment\rAnother option is cp /lib/systemd/system/lomod.service /etc/systemd/system/lomod.service and then edit \u0026ldquo;/etc/systemd/system/lomod.service\u0026rdquo; and change \u0026ldquo;ExecStart\u0026rdquo; directly to specify the parameters used(run /opt/lomorage/bin/lomod -h to check the parameters), and run sudo systemctl daemon-reload, then it will use \u0026ldquo;/etc/systemd/system/lomod.service\u0026rdquo; instead. \u0026ldquo;/lib/systemd/system/lomod.service\u0026rdquo; is expected to be overwritten when upgrade.\n4. Run\r#\r\rRestart \u0026ldquo;Lomorage Photo Assistant\u0026rdquo;:\n# restart lomo-backend sudo systemctl restart lomod # restart lomo-frame sudo service supervisor restart "});index.add({'id':8,'href':'/docs/Installation/lomorage-client/installation-web/','title':"Web",'section':"Lomorage Client",'content':"Install Lomorage Web client\r#\r\rYou can use Lomorage Web client to upload photos/videos from desktop/laptop using browser, and you can use the gallery to view the photos/videos stored in Lomorage.\nIf you are using \u0026ldquo;Lomorage Photo Assistant\u0026rdquo; in MacOS, then you can just click \u0026ldquo;Web Access\u0026rdquo; menu item in Lomorage Photo Assistant Application, and it will open the web application.\nIf you are using \u0026ldquo;Lomorage Photo Assistant\u0026rdquo; in Raspberry Pi, you can open \u0026ldquo;\rhttp://raspberrypi-lomorage.local:8000\u0026rdquo; in the browser on your desktop/laptop to use Lomorage web client.\nThe login username and password is the Lomorage Username/Password set using Phone APP\n"});index.add({'id':9,'href':'/docs/Installation/lomorage-service/installation-win/','title':"Windows",'section':"Lomorage Photo Assistant",'content':"Install \u0026ldquo;Lomorage Photo Assistant\u0026rdquo; on Windows\r#\r\r1. Download\r#\r\rClick the Windows icon link below to download \u0026ldquo;Lomorage Photo Assistant\u0026rdquo; For Windows.\nClick to download == Windows 2. Double click \u0026ldquo;lomoagent.msi\u0026rdquo; to start installation.\r#\r\rIf Windows Defender shows \u0026ldquo;lomoagent.msi\u0026rdquo; as unknown application, please follow the steps below to allow it to run.\n 3. Follow the wizard\r#\r\rto finish the installation, in the End-User License Agreement, please checked the box as below.\n 4. Allow network access\r#\r\rNow you should see the lomoagent icon on your desktop, you can double click to start \u0026ldquo;Lomorage Photo Assistant\u0026rdquo;. If you meet below dialog popuped up by the Windows os, please select \u0026ldquo;Private networks \u0026hellip;\u0026rdquo; one and click the Allow access.\n 5. Config data folder\r#\r\rYou will see below picture while you start \u0026ldquo;Lomorage Photo Assistant\u0026rdquo;, You need to config the \u0026ldquo;Data directory\u0026rdquo; before using it，\u0026ldquo;Data directory\u0026rdquo; is used to save the photos and videos uploading from your phone.\n 6. Open Web Client\r#\r\rThe Setting Windows will be hide to your taskbar tray area, normally it is on the right of the task bar like below picture:\n Web client as below picture.\n 7. You can access this web interface via http://ip(the ip shown on the Settings Windows) from other device.\r#\r\r8. if create user failed， please try to turn off Windows Firewall\r#\r\rEnjoy!\nContact to us: support@lomorage.com\nIf you are using HEIC/HEIF format on iPhone, you need to install \u0026ldquo;\rHEIF Image Extensions\u0026rdquo; and \u0026ldquo;\rHEVC Video Extensions\u0026rdquo;.\n"});index.add({'id':10,'href':'/docs/Installation/lomorage-service/installation-osx/','title':"OSX",'section':"Lomorage Photo Assistant",'content':"Install \u0026ldquo;Lomorage Photo Assistant\u0026rdquo; on MacOS\r#\r\r1. Click the link below to download \u0026ldquo;Lomorage Photo Assistant\u0026rdquo; Application.\nmacOS\rmacOS M1\r2. Double click \u0026ldquo;LomoAgent.dmg\u0026rdquo; to start installation, and follow the steps below to finish the installation.\n\r3. Run \u0026ldquo;Lomorage Photo Assistant\u0026rdquo; Application，please allow network access for \u0026ldquo;Lomorage Photo Assistant\u0026rdquo; if firewall is triggered.\n4. After launching the \u0026ldquo;Lomorage Photo Assistant\u0026rdquo; application，You need to set the \u0026ldquo;Home directory\u0026rdquo; before using Lomorage，\u0026ldquo;Home directory\u0026rdquo; is used to save the photos and videos uploading from your phone。You can also set up a backup directory which served as redundancy backup.\n"});index.add({'id':11,'href':'/docs/Installation/lomorage-service/installation-docker/','title':"Docker",'section':"Lomorage Photo Assistant",'content':"Docker installation\r#\r\rPlease refer to lomo-docker for installation with docker image. You can either use the arm image \u0026ldquo;lomorage/raspberrypi-lomorage:latest\u0026rdquo; or amd64 image \u0026ldquo;lomorage/amd64-lomorage:latest\u0026rdquo; based on the host architecture.\nBelow is an example to run lomo-docker on Raspberry Pi OS (64-bit) with desktop.\ndocker-compose.yml:\nversion: \u0026quot;3.9\u0026quot;\rservices:\rlomo:\rimage: ${IMG}\rcontainer_name: lomorage\rprivileged: true\renvironment:\r- LOMOD_DISABLE_MOUNT_MONITOR=1\rcap_add:\r- ALL\rvolumes:\r- ${HOME_MEDIA_DIR}:/media/WD_36AA8D42AA8D001B\r- ${HOME_MEDIA_BAKUP_DIR}:/media/WD_90C27F73C27F5C82\r- ${HOME_LOMO_DIR}:/lomo\r- /dev:/dev\rports:\r- ${LOMOD_PORT}:${LOMOD_PORT}\r- 8004:8004\rcommand: $LOMOD_PORT\rwatchtower:\rimage: ${AUTO_UPDATE_IMG}\rcontainer_name: watchtower\rrestart: always\rvolumes:\r- /var/run/docker.sock:/var/run/docker.sock\rcommand: lomorage --cleanup\r.env file:\nIMG=lomorage/arm64-lomorage:latest\rAUTO_UPDATE_IMG=containrrr/watchtower:arm64v8-latest\r# IMG=lomorage/amd64-lomorage:latest\r# AUTO_UPDATE_IMG=containrrr/watchtower:amd64-latest\rLOMOD_PORT=8000\r# change the directories in your env\rHOME_MEDIA_DIR=\u0026quot;/media/jeromy/My Passport1\u0026quot;\rHOME_MEDIA_BAKUP_DIR=\u0026quot;/media/jeromy/My Passport\u0026quot;\rHOME_LOMO_DIR=\u0026quot;/home/jeromy/lomo\u0026quot;\r# mdns works in vlan, change vlan settings in your env\rNETWORK_TYPE=ipvlan # macvlan\rNETWORK_INF=eth0\rSUBNET=192.168.1.0/24\rGATEWAY=192.168.1.1\rVLAN_ADDR=192.168.1.79\r"});index.add({'id':12,'href':'/docs/Installation/lomorage-service/installation-openwrt/','title':"Openwrt",'section':"Lomorage Photo Assistant",'content':"Openwrt installation\r#\r\rLomorage setup using opkg packages with Entware repository (need dependencies in Entware, like ffmpeg exif-tools).\nThis is currently in Beta, please reach us if you have any problem.\nQuick Start\r#\r\rThis is for users who want to setup Lomorage using opkg packets.\n1. Install Entware\r#\r\rFollow the instruction to install Entware on target machine.\nYou can use cat /proc/cpuinfo to check the architecture:\nroot@OpenWrt:/mnt/sda1# cat /proc/cpuinfo system type\t: Atheros AR9344 rev 2\rmachine\t: Western Digital My Net N750\rprocessor\t: 0\rcpu model\t: MIPS 74Kc V4.12\rBogoMIPS\t: 278.93\rwait instruction\t: yes\rmicrosecond timers\t: yes\rtlb_entries\t: 32\rextra interrupt vector\t: yes\rhardware watchpoint\t: yes, count: 4, address/irw mask: [0x0ffc, 0x0ffc, 0x0ffb, 0x0ffb]\risa\t: mips1 mips2 mips32r1 mips32r2\rASEs implemented\t: mips16 dsp dsp2\rOptions implemented\t: tlb 4kex 4k_cache prefetch mcheck ejtag llsc dc_aliases perf_cntr_intr_bit nan_legacy nan_2008 perf\rshadow register sets\t: 1\rkscratch registers\t: 0\rpackage\t: 0\rcore\t: 0\rVCED exceptions\t: not available\rVCEI exceptions\t: not available\rIf it\u0026rsquo;s MIPS, you can use lscpu to check the byte order, mips is a big-endian mips architecture,. mipsel is a little-endian mips architecture.\nroot@OpenWrt:/mnt/sda1# lscpu | grep \u0026quot;Byte Order\u0026quot;\rByte Order: Big Endian\rAnd use uname -a  to check Linux version:\nroot@OpenWrt:/mnt/sda1# uname -a\rLinux OpenWrt 4.14.221 #0 Mon Feb 15 15:22:37 2021 mips GNU/Linux\rMost likely you need mount USB drive and use that for packages installation, refer to:\n https://openwrt.org/docs/guide-user/storage/usb-drives-quickstart#procedure https://www.jianshu.com/p/4061eeaccd13  Make sure you change \u0026ldquo;/etc/profile\u0026rdquo; and add /opt/bin/go/bin:/opt/bin in PATH and /opt/lib/ in LD_LIBRARY_PATH\nOnce you have Entware setup ready, install dependencies and tools from Entware repo:\nroot@OpenWrt:~# opkg install coreutils-stat perl-image-exiftool ffmpeg ffprobe lsblk\r2. Install Lomorage\r#\r\rArchitectures supported are:\naarch64-3.10 # arm64, linux kernel ver \u0026gt;= 3.10\rarmv7-3.2 # armv7, linux kernel ver \u0026gt;=3.2\rmips-3.4 # mips big-endian, linux kernel ver \u0026gt;=3.2\rmipsel-3.4 # mips little-endian, linux kernel ver \u0026gt;=3.2\rAdd src/gz lomorage https://lomostaging.lomorage.com/opkg/[architecture] in /opt/etc/opkg.conf, replace [architecture] with those listed above, for example if it\u0026rsquo;s mips big-endian, linux kernel ver \u0026gt;=3.2, use src/gz lomorage https://lomostaging.lomorage.com/opkg/mips-3.4. This should below \u0026ldquo;entware\u0026rdquo; entry because some packages in entware are not compiled with needed flags, and need to be overridden.\nroot@OpenWrt:~# cat /opt/etc/opkg.conf\rsrc/gz entware http://bin.entware.net/mipssf-k3.4\rsrc/gz lomorage https://lomostaging.lomorage.com/opkg/mips-3.4\rdest root /\rlists_dir ext /opt/var/opkg-lists\rarch all 100\rarch mips-3x 150\rarch mips-3.4 160\rAnd then you can install \u0026ldquo;lomo-backend\u0026rdquo;, all the dependencies should be able to be installed automatically:\nroot@OpenWrt:/mnt/sda1/# opkg update --no-check-certificate\rroot@OpenWrt:/mnt/sda1/# opkg install lomo-backend --no-check-certificate\r\u0026ldquo;lomod\u0026rdquo; will start automatically after installation, the mount directory is default to \u0026ldquo;/mnt\u0026rdquo; and port default to \u0026ldquo;8000\u0026rdquo;, you can also run:\nroot@OpenWrt:/mnt/sda1# /opt/etc/init.d/lomod\rUsage: /opt/etc/init.d/lomod {start|stop|restart}\rShould be notice that for \u0026ldquo;arm\u0026rdquo; architecture, it will has two versions: \u0026ldquo;hf\u0026rdquo; and \u0026ldquo;nohf\u0026rdquo;, \u0026ldquo;hf\u0026rdquo; means hard float, you can check whether the CPU supports hard float by grep \u0026quot;fpu\u0026quot; /proc/cpuinfo and if it shows fpu : yes then it supports hard float. And if it doesn\u0026rsquo;t support hard float, you should install the following packages instead:\nroot@OpenWrt:/mnt/sda1/# opkg install lomo-backend_nohf --no-check-certificate\rThen you can add cron job to update lomo-backend at 4:00 am everyday:\nroot@OpenWrt:~# crontab -e\rand add the following item:\n0 4 * * * opkg update --no-check-certificate \u0026amp;\u0026amp; opkg install lomo-backend --no-check-certificate\r"});index.add({'id':13,'href':'/docs/Installation/lomorage-service/installation-synology/','title':"Synology",'section':"Lomorage Photo Assistant",'content':"Synology\r#\r\r1. Search lomorage from docker registry\r#\r\rOnce lomorage image is found, you can also click Download icon to download the docker image. There are arm and amd64 version, please download correct one based on your host arch.\n2. Launch lomorage container\r#\r\rGo to Image tab, select downloaded lomorage container, click Launch icon\n3. Advanced settings\r#\r\rSet name for new container, and click Advanced Setting button\n3.1. Enable auto-restart\r#\r\rCheck the auto-restart box to make sure lomorage can be auto-started\n3.2. Volume setting\r#\r\rAt volume tab page, click Add Folder, then create lomorage folder under docker and two new sub folders:\n data: store photo/video data files. The folder should be mounted to /media directory inside container. app: store app logs, configuration, etc files. The folder should be mounted to /lomo directory inside container.  3.3. Port settings\r#\r\rAt port setting tab page, add new tcp port mapping 8000 -\u0026gt; 8000\n4. Done\r#\r\rClick Apply button, and lomorage container should start running now, and you can visit the app from mobile clients.\n5. MAC vlan docker network\r#\r\rPrevious steps uses default docker bridge network, thus, user need manually input client ip from mobile client. To enable MDNS feature, user can setup mac vlan docker network, and associate it with the container, then mobile client can auto discover lomorage app.\nTo create mac vlan network, please make sure you have subnet, gateway, interface name and new static ip for lomorage container. Assume they are\n subnet: 192.168.1.0/24 gateway: 192.168.1.1 interface name: eth0 new static ip: 192.168.1.100  Use ssh to login Synology, and run docker network create -d macvlan --subnet=192.168.1.0/24 --gateway=192.168.1.1 --ip-range=192.168.1.100/32 -o parent=eth0 lomorage to create lomorage network. After that, if you run docker network ls, you should see the new docker network\nGo to Synology docker web page, click Network tab from sidebar, the lomorage network should show up now.\nStop running lomorage container, click Edit button. In Network tab page, add new lomorage network, and remove bridge network, then click apply, and start container. Now your mobile client should be able to auto discover the backend application.\n"});index.add({'id':14,'href':'/docs/Installation/lomorage-service/installation-unraid/','title':"Unraid",'section':"Lomorage Photo Assistant",'content':"Unraid\r#\r\r1. Search lomorage from app store\r#\r\rOnce lomorage is found, you can also click info icon to learn more about lomorage support at unraid forum\n2. Click install. You are done!\r#\r\rUnraid template customization\r#\r\rBelow is the explanation on template configuration.\n Network: Default value is host mode because mobile client uses MDNS to auto-discover \u0026ldquo;Lomorage Photo Assistant\u0026rdquo; listen address and port. It can be changed to bridge mode if user wants to configure these information from mobile client by yourselves. ExtraParams: Default value is 99:100. This parameter need combined together with User mount configuration. It is to make sure uploaded photos/videos have right user/group permission, and can be browsed via unraid share feature. 99 is user ID of nobody, and 100 is group ID of nobody. User can customize it based on his own user configuration. PostArgs: Default value is 8000 which is Lomorage API backend listening port Config  MediaDir: This is uploaded media storage directory. Default value is /mnt/user/ AppDir: This directory stores configuration file, database file, log files, etc, used by \u0026ldquo;Lomorage Photo Assistant\u0026rdquo;. Default value is /mnt/user/appdata User: This mount file is to ensure \u0026ldquo;Lomorage Photo Assistant\u0026rdquo; uses the same user ID and group ID as host unraid OS. Lomorage will never read the confidential data inside the file    Nginx Proxy Manager integration\r#\r\rNginx Proxy Manager is a popular self-host tool to easily forward your websites running at home to the public internet. It has one official app on Unraid community, and user can install by their own.\n Click Add Proxy Host, then set your own domain name and forward ip as below screen. Schema is http, and forward port is the listen port configured for Lomorage container, 8000 is default listen port.  Enable SSL configuration and set certificate domain name as your own domain name  Click Save, and below host should be added into the host list  "});index.add({'id':15,'href':'/docs/Installation/lomorage-service/','title':"Lomorage Photo Assistant",'section':"Installation",'content':"Lomorage Photo Assistant\r#\r\rThe first step is to set up \u0026ldquo;Lomorage Photo Assistant\u0026rdquo;.\nYou can choose which version of \u0026ldquo;Lomorage Photo Assistant\u0026rdquo; to download based on your preference. Running \u0026ldquo;Lomorage Photo Assistant\u0026rdquo; on Windows or OSX gives you better performance compared with on SBC(Single Board Computer), the uploading and accessing the backup will be faster, but running on SBC like Raspberry Pi is more energy efficient. If using Raspberry Pi, you don\u0026rsquo;t need to worry about the electricity bill, it is only about 5$ a year\nWindows\r\u0026nbsp;\rMacOS\r\u0026nbsp;\rRaspbian\r\u0026nbsp;\rDocker\r\u0026nbsp;\rArmbian\u0026nbsp;\r\u0026nbsp;\rUbuntu\r\u0026nbsp;\rUnraid\r\u0026nbsp;\rOpenwrt\r"});index.add({'id':16,'href':'/docs/Installation/lomorage-client/','title':"Lomorage Client",'section':"Installation",'content':"Lomorage Client\r#\r\rAfter running \u0026ldquo;Lomorage Photo Assistant\u0026rdquo;, you can then install Lomorage client on smart phone.\nYou can also use the web client to upload assets on your desktop/laptop, or use it to browser the photo/video gallery.\n\r\r\u0026nbsp;\r\r"});index.add({'id':17,'href':'/docs/Usage/lomorage-client/','title':"Lomorage Command Line Client",'section':"Usage",'content':"Lomorage Command Line Client\r#\r\rLomorage command line client is a tool to allow user to control backend directly. Its name is lomoc and installed under /opt/lomorage/bin. It provides some options to configure the backend.\nReset user\u0026rsquo;s backup home directory and backup directory\r#\r\rAfter one user is created through mobile application, people can use lomoc command line option to reset home directory and backup directory. Firstly, people need copy specific user\u0026rsquo;s or all users' asset directories to the new directory. For example, if new media directory is /media/newdisk, and there are 2 users alice and bob, the new tree would be like\n/media/newdisk/\r|-- alice\r| `-- Photos\r| |-- master\r| | |-- 2003\r| | | |-- 01\r| | | | `-- 17\r| | | | `-- 20030117_4.jpg\r| | | `-- 11\r| | | |-- 01\r| | | | |-- 20031101_2.jpg\r| | | | `-- 20031101_3.jpg\r| | | `-- 23\r| | | |-- 20031123_1.jpg\r| | | |-- 20031123_11.webp\r| | | |-- 20031123_12.dng\r| | | `-- 20031123_13.heic\r| | |-- 2004\r| | | `-- 01\r| | | `-- 21\r| | | `-- 20040121_5.jpg\r| | `-- 2013\r| | |-- 07\r| | | `-- 28\r| | | `-- 20130728_7.png\r`-- bob\r`-- Photos\r|-- master\r| `-- 2013\r| |-- 08\r| | `-- 08\r| | `-- 20130808_6.mp4\r| `-- 11\r| `-- 23\r| |-- 20131123_10.zip\r| |-- 20131123_10_image.heic\r| |-- 20131123_8.zip\r| |-- 20131123_8_image.jpg\r| `-- 20131123_9.heic\rNote:\n If [user name] is supplied, it only updates the given user\u0026rsquo;s home directory or backup directory; otherwise, it will replace all users' home directory or backup directory to the new given media directory. By default, the client will read data from /opt/lomorage/var/assets.db. If you installed the lomod to different directory, you can use --db option to supply new DB file location  $ /opt/lomorage/bin/lomoc reset home-dir -h\rNAME:\rlomoc reset home-dir - reset users' home directory in DB, and input dir must be media dir. If username is not specified, it will reset all users' home directory\rUSAGE:\rlomoc reset home-dir [command options] [new media dir] ([user name])\rOPTIONS:\r--db value db filename with full path (default: \u0026quot;/opt/lomorage/var/assets.db\u0026quot;)\r$ /opt/lomorage/bin/lomoc reset backup-dir -h\rNAME:\rlomoc reset backup-dir - reset users' backup directory in DB, and input dir must be media backup dir. If username is not specified, it will reset all users' backup directory\rUSAGE:\rlomoc reset backup-dir [command options] [new backup dir] ([user name])\rOPTIONS:\r--db value db filename with full path (default: \u0026quot;/opt/lomorage/var/assets.db\u0026quot;)\rImport from one existing folders\r#\r\rCommand line tool is for advanced user when the existing assets are in attached USB or Local/NFS/CIFS mounted disks along with \u0026ldquo;Lomorage Photo Assistant\u0026rdquo;. It can avoid unnecessary back-and-forth network traffic as well as disk operation. During import, the tool will move existing assets to the directories created by lomorage for each user, or not move asset while inserting record only if supply --no-move option. All import logs are saved under /opt/lomorage/var/log/import_[import directory].log. Below is usage for the tool.\nShould be notice that the import will creates albums automatically according to the directories structures\n$ /opt/lomorage/bin/lomoc import -h\rNAME:\rlomoc import - Import all photos from given directory into lomo backend with given username and password\rUSAGE:\rlomoc import [command options] [username] [password] [directory]\rOPTIONS:\r--port value, -p value (default: 8000)\r--no-move, -n not moving original photos/videos, and only insert record in db\r--no-video, --nv not scan video files. This is to speed up the first import process\rNote:\n --port is listen port of lomod backend service. It is 8000 by default. --no-move is to hint backend service not moving assets, and only insert record in DB. By default it is false, and import will MOVE all assets and consolidate them into one location --no-video is to hint backend service not scanning video files. This is to speed up the first import process. Since backend always check assets exists or not by their SHA, you can safely import video at the 2nd time.  Example:\n$ /opt/lomorage/bin/lomoc import alice password /media/STEC_838C-1111/test/video\r-m\rLogin localhost successfully\rimport photos/videos from /media/STEC_838C-1111/test\rplease check import log /opt/lomorage/var/log/import_media_STEC_838C-1111_test.log\r$ cat /opt/lomorage/var/log/import_media_STEC_838C-1111_test.log\rstart import /media/STEC_838C-1111/test/img/11_2014_01_21.webp\rfinish import /media/STEC_838C-1111/test/img/11_2014_01_21.webp to /media/STEC_838C-1111/alice/Photos/master/2021/09/20/20210920_9391.webp\rstart import /media/STEC_838C-1111/test/img/12_2014_01_21.heic\rfinish import /media/STEC_838C-1111/test/img/12_2014_01_21.heic to /media/STEC_838C-1111/alice/Photos/master/2021/09/20/20210920_9392.heic\rstart import /media/STEC_838C-1111/test/img/14_2017_09_13.heic\rfinish import /media/STEC_838C-1111/test/img/14_2017_09_13.heic to /media/STEC_838C-1111/alice/Photos/master/2017/09/13/20170913_9393.heic\rstart import /media/STEC_838C-1111/test/img/1_2003_01_17.jpg\rfinish import /media/STEC_838C-1111/test/img/1_2003_01_17.jpg to /media/STEC_838C-1111/alice/Photos/master/2003/01/17/20030117_9394.jpg\rstart import /media/STEC_838C-1111/test/img/3_2003_11_01.jpg\rfinish import /media/STEC_838C-1111/test/img/3_2003_11_01.jpg to /media/STEC_838C-1111/alice/Photos/master/2003/11/01/20031101_9395.jpg\rstart import /media/STEC_838C-1111/test/img/4_2003_11_01.jpg\rfinish import /media/STEC_838C-1111/test/img/4_2003_11_01.jpg to /media/STEC_838C-1111/alice/Photos/master/2003/11/01/20031101_9396.jpg\rstart import /media/STEC_838C-1111/test/img/5_2003_11_23.jpg\rfinish import /media/STEC_838C-1111/test/img/5_2003_11_23.jpg to /media/STEC_838C-1111/alice/Photos/master/2003/11/23/20031123_9397.jpg\rstart import /media/STEC_838C-1111/test/img/6_2004_01_21.jpg\rfinish import /media/STEC_838C-1111/test/img/6_2004_01_21.jpg to /media/STEC_838C-1111/alice/Photos/master/2004/01/21/20040121_9398.jpg\rstart import /media/STEC_838C-1111/test/img/7_2004_09_12.webp\rfinish import /media/STEC_838C-1111/test/img/7_2004_09_12.webp to /media/STEC_838C-1111/alice/Photos/master/2004/09/12/20040912_9399.webp\rstart import /media/STEC_838C-1111/test/img/8_2008_12_14.dng\rfinish import /media/STEC_838C-1111/test/img/8_2008_12_14.dng to /media/STEC_838C-1111/alice/Photos/master/2008/12/14/20081214_9400.dng\rstart import /media/STEC_838C-1111/test/img/9_2013_07_28.png\rfinish import /media/STEC_838C-1111/test/img/9_2013_07_28.png to /media/STEC_838C-1111/alice/Photos/master/2021/09/20/20210920_9401.png\rstart import /media/STEC_838C-1111/test/img/preview.jpg\rfinish import /media/STEC_838C-1111/test/img/preview.jpg to /media/STEC_838C-1111/alice/Photos/master/2003/11/23/20031123_9402.jpg\rFINISH: totally scanned 1 directories, and imported 12 media files\r"});index.add({'id':18,'href':'/docs/Installation/lomo-frame/','title':"Lomorage Frame",'section':"Installation",'content':"Lomorage Frame\r#\r\rInstall\r#\r\rYou can connect monitor with Raspberry Pi and use that as digital photo frame, and you can setup multiple digital photo frames using Raspberry Pi zero w and access your digital assets via WiFi.\nLomo-frame only supports on Raspberry Pi, Windows/Mac or the docker version is not supported\r\rIf you install the latest Lomorage Raspberry Pi OS image, you should already have the Lomo-frame application installed in that image.\nIf you don\u0026rsquo;t use Lomorage Raspberry Pi OS image, follow the instruction here to add lomoware source, then you can run the following command to install it:\nsudo apt update sudo apt install lomo-frame Setup\r#\r\rYou have several options:\n  Run \u0026ldquo;Lomorage Photo Assistant\u0026rdquo; and Lomo-frame on the same Raspberry Pi.\n  Run \u0026ldquo;Lomorage Photo Assistant\u0026rdquo; on one Raspberry Pi, and run Lomo-frame on other Raspberry Pis. For example, you can run Lomo-frame on the cheap Raspberry Pi zero, and run \u0026ldquo;Lomorage Photo Assistant\u0026rdquo; on more powerful Raspberry Pi 4.\n  Once you have Lomo-frame running, it will show a QRCode on the screen, and you can use iOS or Android APP to register the frame in settings, once success, you can share photos with the digital frame just like share with other contacts in Lomorage APP.\nQuickstart\r#\r\rIf you have Lomo-frame installed, it will launch on boot.\nIf the Raspberry Pi is not connected to the network, you need to connect it first, if you prefer to use WiFi, connect HDMI and keyboard with Raspberry Pi and reboot, follow the instruction on screen to enter in terminal and login Raspberry Pi, then you can use the command wifi_switch.sh client [wifi-ssid] [wifi-password], replace \u0026ldquo;[wifi-ssid]\u0026rdquo; and \u0026ldquo;[wifi-password]\u0026rdquo; with those of your wifi network.\nYou probably will have the problem that \u0026ldquo;Wi-Fi is currently blocked by rfkill\u0026rdquo;. You can confirm this by running:\npi@raspberrypi:~ $ sudo rfkill list all\r0: phy0: Wireless LAN\rSoft blocked: no\rHard blocked: no\r1: hci0: Bluetooth\rSoft blocked: yes\rHard blocked: no\rAnd you can enable WiFi by running:\nsudo rfkill unblock 0\rassuming 0 is the index of Wireless LAN.\nAfter this, you can try wifi_switch.sh again.\n\rOnce setup network, reboot and it will show a QRCode, you can go to \u0026ldquo;Settings\u0026rdquo; Tab in Lomorage iOS APP to register the frame, then you can use either Lomorage iOS APP or Lomorage Android APP to share photos with the digital frame.\n\rIf you don\u0026rsquo;t need more configuration, you can skip the below sections.\nTurn Frame ON/OFF\r#\r\rLomo-frame will start after system boot automatically, but if you want manual control, you can use the following commands to turn it on: framectrl.sh on, or turn it off: framectrl.sh off. It will turn on/off the monitor as well as the Lomo-frame service.\nStop or Start Lomo-frame Service\r#\r\rIf you just want to quit Lomo-frame service, while keep the monitor on, you can either:\n  press \u0026ldquo;esc\u0026rdquo; on the keyboard if Raspberry Pi connected with keyboard.\n  sudo service supervisor stop if you use ssh to access Raspberry Pi.\n  You can use sudo service supervisor start to start the Lomo-frame service.\nSchedule Frame ON/OFF time\r#\r\rThe default turn on time is \u0026ldquo;08:00 am\u0026rdquo;, and turn off time is \u0026ldquo;21:00 pm\u0026rdquo;.\nYou can change that use the following command, which changes the on time to \u0026ldquo;10:00 am\u0026rdquo; and off time to \u0026ldquo;18:00\u0026rdquo;:\nframectr.sh add --on-hour 10 --off-hour 18 You can also change that to \u0026ldquo;10:30 am\u0026rdquo; and off time to \u0026ldquo;18:30\u0026rdquo;\nframectr.sh add --on-hour 10 --on-min 30 --off-hour 18 --off-min 30 Or if you want to keep it on 7x24, just remove the schedule:\nframectr.sh remove Playback Order\r#\r\rBy default, it\u0026rsquo;s random, but if you prefer to playback sequentially:\nsudo sed -i \u0026#34;s/is_random =.*/is_random = false/\u0026#34; /opt/lomorage/var/video_looper.ini Or you can change it back to random:\nsudo sed -i \u0026#34;s/is_random =.*/is_random = true/\u0026#34; /opt/lomorage/var/video_looper.ini Customize playlist\r#\r\rYou can edit/create \u0026ldquo;/opt/lomorage/var/lomo-playlist.txt\u0026rdquo;, the format is one media file path per line.\nPlayback Media Type\r#\r\rBy default, it will play videos and images, but if you need to play only images, you can change the \u0026ldquo;media_type\u0026rdquo; in \u0026ldquo;/opt/lomorage/var/video_looper.ini\u0026rdquo;:\nsudo sed -i \u0026#34;s/media_type =.*/media_type = image/\u0026#34; /opt/lomorage/var/video_looper.ini or play only video:\nsudo sed -i \u0026#34;s/media_type =.*/media_type = video/\u0026#34; /opt/lomorage/var/video_looper.ini or restore to play all media assets:\nsudo sed -i \u0026#34;s/media_type =.*/media_type = all/\u0026#34; /opt/lomorage/var/video_looper.ini Keyboard control\r#\r\rIf you have keyboard connect with Raspberry Pi, you can press the following key to control:\n  \u0026ldquo;r\u0026rdquo;: rescan playlist.\n  \u0026ldquo;k\u0026rdquo;: skip to next.\n  \u0026ldquo;s\u0026rdquo;: pause/resume play\n  \u0026ldquo;esc\u0026rdquo;: quit Lomo-frame\n  Setup multiple digital frame\r#\r\rThis setup need some expertise, sorry, will make it easier in the future using phone APP.\nIf you already have one Raspberry Pi (Primary Raspberry Pi) setup for running \u0026ldquo;Lomorage Photo Assistant\u0026rdquo;, and having all the hard drivers connected with that device, you probably keep it in the storage room connected to the router with wired network, and want to setup the digital frame in bedroom or living room.\nYou can use a low cost Raspberry Pi zero w to setup the digital frame and access your digital assets via WiFi, it works pretty well, the video playback is very smooth.\n   Install Lomo-frame    You can follow the instructions on the top of the page.\n  Setup WiFi connection    Connect keyboard with Raspberry Pi zero W and login, if you installed Lomorage Raspberry Pi OS image, the default user name is \u0026ldquo;lomoware\u0026rdquo; and password is \u0026ldquo;lomorage\u0026rdquo;, you can use the command wifi_switch.sh client [wifi-ssid] [wifi-password], replace \u0026ldquo;[wifi-ssid]\u0026rdquo; and \u0026ldquo;[wifi-password]\u0026rdquo; with those of your wifi network; otherwise, you can refer to other docs online to set the WiFi connection.\n  Check IP address of primary Raspberry Pi    You can find the IP address using iPhone APP, in \u0026ldquo;settings\u0026rdquo; tab, section \u0026ldquo;LOCAL SERVICE\u0026rdquo;, the host field is the IP address.\n  Find the mount directory on primary Raspberry Pi    You can mount the \u0026ldquo;media\u0026rdquo; directory on primary Raspberry Pi onto your desktop/laptop via SAMBA, with user name \u0026ldquo;pi\u0026rdquo; and password \u0026ldquo;raspberry\u0026rdquo;, and you will find the directory name store media assets mounted under \u0026ldquo;media\u0026rdquo; directory.\n  Mount on Raspberry Pi zero w    Say if directory with name \u0026ldquo;/media/WD_90C27F73C27F5C82\u0026rdquo; store media assets mounted on primary Raspberry Pi (with IP 192.168.1.155), you can mount it on your Raspberry Pi zero w, login to Raspberry Pi zero and then:\nsudo mkdir /media/WD_90C27F73C27F5C82 echo \u0026#34;//192.168.1.124/media/WD_90C27F73C27F5C82 /media/WD_90C27F73C27F5C82 cifs user=pi,pass=raspberry,uid=1000,gid=1000\u0026#34; | sudo tee -a /etc/fstab sudo mount -a   Reboot    sudo reboot After reboot, you should be able to see it starts scanning the media files to generate playlist.\n"});index.add({'id':19,'href':'/docs/Usage/external-access/','title':"External Access",'section':"Usage",'content':"External Access Configuration\r#\r\rCurrently, external access need some manual setup and some technical background, we will make the process more user-friendly later. There are mainly 2 options:\n Use the 3rd party tunnel service Open port mapping on your router  Use the 3rd party tunnel service (option 1)\r#\r\rThere are a few tunnel services available for free use, most tunnel services require a client application running on your device, and set up a connection to the service running by the service provider, and it will give a subdomain name for you to use, if you access the URL with that subdomain, the tunnel service will forward the traffic/request to the client application.\n\rngrok is a free and popular tunnel services, requires registration before use, and need pay for customize subdomain. You can also use other tunnel services as well.\n1. Register\r#\r\rSign up a ngrok account here, after that, it will show up a \u0026ldquo;Setup \u0026amp; Installation\u0026rdquo; page.\n2. Download\r#\r\rngrok is just one binary, you can download the version on your platform.\nIf you are on Raspberry Pi, you can copy the link of Linux(ARM) on the \u0026ldquo;Setup \u0026amp; Installation\u0026rdquo; page, which is \u0026ldquo;https://bin.equinox.io/c/4VmDzA7iaHb/ngrok-stable-linux-arm.zip\u0026quot; for now, and download it via \u0026ldquo;wget\u0026rdquo;.\nwget https://bin.equinox.io/c/4VmDzA7iaHb/ngrok-stable-linux-arm.zip 3. Installation\r#\r\runzip and get the binary. You can double click on Windows or macOS to unzip it.\nIf you are using Raspberry Pi, use \u0026ldquo;unzip\u0026rdquo; command:\nunzip ngrok-stable-linux-arm.zip 4. Connect your account\r#\r\rOn the \u0026ldquo;Setup \u0026amp; Installation\u0026rdquo; page step 3, it shows the “authtoken”, you need open terminal to run ngrok to add the authtoken to the config file.\n./ngrok authtoken [your-authtoken-show-in-step-3] 5. Run ngrok\r#\r\r\u0026ldquo;Lomorage Photo Assistant\u0026rdquo; is using \u0026ldquo;8000\u0026rdquo; by default, and ngrok can\u0026rsquo;t customize subdomain with free account. After runnig successfully, it will show the tunnel url, the subdomain is a random string which might change in next run.\n./ngrok http 8000 \r6. Config tunnel service on Lomorage APP\r#\r\rOpen Lomorage APP on the phone, and in the settings tab, fill the tunnel service host, the host is like \u0026ldquo;2e30eea5.ngrok.io\u0026rdquo;, and port should be \u0026ldquo;443\u0026rdquo;.\nNginx https proxy (option 2)\r#\r\rAnother option is to open port mapping on your home router and use nginx as reverse https proxy if you have your own domain name. Depends on your familiarity on Nginx, you can either use popular Nginx Proxy Manager tool, or customized nginx configuration by yourselves. Following sections presents both options for you to choose.\nIf you are using Lomorage image, the login username is \u0026ldquo;lomoware\u0026rdquo; and password is \u0026ldquo;lomorage\u0026rdquo;;\r\rNginx Proxy Manager\r#\r\rNginx Proxy Manager is a populer self-host tool to easily forward your websites running at home to the public internet. Please refer user guide for installation.\n Click Add Proxy Host, then set your own domain name and forward ip as below screen. Schema is http, and forward port is the listen port configured for lomorage container, 8000 is default listen por t.  Enable SSL configuration and set certificate domain name as your own domain name  Click Save, and below host should be added into the host list  Customize Nginx Configuration\r#\r\rThe following part will use setup in Linux as an example, other platforms are similar since all the software used below are cross platform.\n1. Install certbot and Nginx\r#\r\r$ sudo apt-get install certbot python-certbot-nginx -y\r2. generate certificate\r#\r\rFirst, make sure you have your domain name configured and opened TCP port mapping 80 and 443 on your home router, and forward those traffic to the device running Nginx on the same port.\nFollowing part will use \u0026ldquo;bob.lomorage.com\u0026rdquo; as an example\n$ sudo certbot --nginx -d bob.lomorage.com\rAnd this will generate certificate as below:\n$ sudo certbot --nginx -d bob.lomorage.com\rSaving debug log to /var/log/letsencrypt/letsencrypt.log\rRequesting a certificate for bob.lomorage.com\rSuccessfully received certificate.\rCertificate is saved at: /etc/letsencrypt/live/bob.lomorage.com/fullchain.pem\rKey is saved at: /etc/letsencrypt/live/bob.lomorage.com/privkey.pem\rThis certificate expires on 2021-11-14.\rThese files will be updated when the certificate renews.\rCertbot has set up a scheduled task to automatically renew this certificate in the background.\r3. config Nginx\r#\r\rcreate “/etc/nginx/conf.d/lomorage.conf” (need sudo), and fill with content below (change \u0026ldquo;bob.lomorage.com\u0026rdquo; with your own domain name):\nserver {\rlisten 443 ssl;\rlisten [::]:443 ssl;\rserver_name demo.lomorage.com;\rssl on;\rssl_certificate /etc/letsencrypt/live/bob.lomorage.com/fullchain.pem;\rssl_certificate_key /etc/letsencrypt/live/bob.lomorage.com/privkey.pem;\rlocation / {\rclient_max_body_size 0;\rproxy_pass http://localhost:8000;\rproxy_set_header X-Forwarded-For $remote_addr;\r}\r}\rIf your \u0026ldquo;Lomorage Photo Assistant\u0026rdquo; and nginx are running on different devices, change \u0026ldquo;localhost\u0026rdquo; to the IP address running Lomorage service.\nNow reload config, restart and enable Nginx service\nsudo systemctl restart nginx\rsudo systemctl enable nginx\rNow you can verify the settings using browser by accessing \u0026ldquo;https://bob.lomorage.com/system\u0026quot; (change \u0026ldquo;bob.lomorage.com\u0026rdquo; with your own domain name).\n"});index.add({'id':20,'href':'/docs/Installation/lomorage-importer/','title':"Import Tool",'section':"Installation",'content':"What is Lomorage Importer\r#\r\rIt is most likely user already stored historical photos / videos at multiple places, and hope to consolidate all at one place.\nLomorage provides 3 ways to batch import these existing assets into the system:\n Native tool - recommended option Web client Command line tool - advanced option  Import by native tool\r#\r\rImport all assets under specified directory or single file. The tool will analysis asset create time by EXIF tool, and supply while import. It also support to import Google photo takeout ZIP file directly into Lomorage.\nCurrently it support Windows and MacOS.\nDownload\r#\r\rGo to Lomo-importer@github to download the latest binary.\nLatest importer for Windows\r#\r\r \rLatest Windows Importer  Or directly download here:\r#\r\r MacOS LomoImporter.app2021-08-31_14-13-34_mac.zip  Quick intro\r#\r\r\rEg: how to import one folder\r#\r\r Login to Lomorage  \rClieck the button “1.Select Folder\u0026hellip;\u0026quot;, to select the folder which you want to import. Then click the button “2.Start Import\u0026quot;, before import, you can add more files and remove some files.  \rEg: How to import Google Photo Takeout ZIP files to lomorage\r#\r\r  Download your google photo from takeout.google.com\n  Login to Lomorage\n  \rClick the button “1.Add Files\u0026hellip;\u0026quot;, select the ZIP files you want to add, then click the button “2.Start Import\u0026quot;. Just follow below picture.  \rImport by command line\r#\r\rCommand line tool is for advanced user when the existing assets are in attached USB or Local/NFS/CIFS mounted disks along with \u0026ldquo;Lomorage Photo Assistant\u0026rdquo;. It can avoid unnecessary back-and-forth network traffic as well as disk operation. During import, the tool will move existing assets to the directories created by lomorage for each user, or not move asset while inserting record only if supply --no-move option. All import logs are saved under /opt/lomorage/var/log/import_[import directory].log. Below is usage for the tool.\n$ /opt/lomorage/bin/lomoc import -h\rNAME:\rlomoc import - Import all photos from given directory into lomo backend with given username and password\rUSAGE:\rlomoc import [command options] [username] [password] [directory]\rOPTIONS:\r--port value, -p value (default: 8000)\r--no-move, -n not moving original photos/videos, and only insert record in db\rNote:\n --port is listen port of lomod backend service. It is 8000 by default. --no-move is to hint backend service not moving assets, and only insert record in DB. By default it is false, and import will MOVE all assets and consolidate them into one location  Example:\n$ /opt/lomorage/bin/lomoc import alice password /media/STEC_838C-1111/test/video\r-m\rLogin localhost successfully\rimport photos/videos from /media/STEC_838C-1111/test\rplease check import log /opt/lomorage/var/log/import_media_STEC_838C-1111_test.log\r$ cat /opt/lomorage/var/log/import_media_STEC_838C-1111_test.log\rstart import /media/STEC_838C-1111/test/img/11_2014_01_21.webp\rfinish import /media/STEC_838C-1111/test/img/11_2014_01_21.webp to /media/STEC_838C-1111/alice/Photos/master/2021/09/20/20210920_9391.webp\rstart import /media/STEC_838C-1111/test/img/12_2014_01_21.heic\rfinish import /media/STEC_838C-1111/test/img/12_2014_01_21.heic to /media/STEC_838C-1111/alice/Photos/master/2021/09/20/20210920_9392.heic\rstart import /media/STEC_838C-1111/test/img/14_2017_09_13.heic\rfinish import /media/STEC_838C-1111/test/img/14_2017_09_13.heic to /media/STEC_838C-1111/alice/Photos/master/2017/09/13/20170913_9393.heic\rstart import /media/STEC_838C-1111/test/img/1_2003_01_17.jpg\rfinish import /media/STEC_838C-1111/test/img/1_2003_01_17.jpg to /media/STEC_838C-1111/alice/Photos/master/2003/01/17/20030117_9394.jpg\rstart import /media/STEC_838C-1111/test/img/3_2003_11_01.jpg\rfinish import /media/STEC_838C-1111/test/img/3_2003_11_01.jpg to /media/STEC_838C-1111/alice/Photos/master/2003/11/01/20031101_9395.jpg\rstart import /media/STEC_838C-1111/test/img/4_2003_11_01.jpg\rfinish import /media/STEC_838C-1111/test/img/4_2003_11_01.jpg to /media/STEC_838C-1111/alice/Photos/master/2003/11/01/20031101_9396.jpg\rstart import /media/STEC_838C-1111/test/img/5_2003_11_23.jpg\rfinish import /media/STEC_838C-1111/test/img/5_2003_11_23.jpg to /media/STEC_838C-1111/alice/Photos/master/2003/11/23/20031123_9397.jpg\rstart import /media/STEC_838C-1111/test/img/6_2004_01_21.jpg\rfinish import /media/STEC_838C-1111/test/img/6_2004_01_21.jpg to /media/STEC_838C-1111/alice/Photos/master/2004/01/21/20040121_9398.jpg\rstart import /media/STEC_838C-1111/test/img/7_2004_09_12.webp\rfinish import /media/STEC_838C-1111/test/img/7_2004_09_12.webp to /media/STEC_838C-1111/alice/Photos/master/2004/09/12/20040912_9399.webp\rstart import /media/STEC_838C-1111/test/img/8_2008_12_14.dng\rfinish import /media/STEC_838C-1111/test/img/8_2008_12_14.dng to /media/STEC_838C-1111/alice/Photos/master/2008/12/14/20081214_9400.dng\rstart import /media/STEC_838C-1111/test/img/9_2013_07_28.png\rfinish import /media/STEC_838C-1111/test/img/9_2013_07_28.png to /media/STEC_838C-1111/alice/Photos/master/2021/09/20/20210920_9401.png\rstart import /media/STEC_838C-1111/test/img/preview.jpg\rfinish import /media/STEC_838C-1111/test/img/preview.jpg to /media/STEC_838C-1111/alice/Photos/master/2003/11/23/20031123_9402.jpg\rFINISH: totally scanned 1 directories, and imported 12 media files\rContact us\r#\r\rAny questions, please let us know!\nUpdate history\r#\r\r08/31/2021\r#\r\r Fix: read heic exif time crash issue Support large file direct importing.  08/09/2021\r#\r\r can config importing thread count Improve\u0026amp;faster the importing speed support lomo live photo zip file fix memory leak fix error logs popup while exiting  07/14/2021\r#\r\r support add folder directly and the program will list all files under this folder.  "});index.add({'id':21,'href':'/docs/Usage/customized-view/','title':"Customized View",'section':"Usage",'content':"Customized View\r#\r\rLomorage saves photos/videos on disk in YYYY/MM/DD folder structure, and some users would prefer to have other folder structures like YYYY/MM or even YYYY, some users even would like to have more meaningful folder names so that the assets can be organized like albums.\nLomorage solves the above problems by providing virtual views, which means it can provides multiple virtual views without affecting the physical folder structures on hard drive.\nThe physical folder structure:\nAfter changing the customized view to \u0026ldquo;Year\u0026rdquo;:\nAfter changing the customized view to \u0026ldquo;Year/Month\u0026rdquo;:\nAnd there is an \u0026ldquo;Albums\u0026rdquo; folder, which shows the ablums you created using Lomorage iOS/Android APP:\nYou can change the \u0026ldquo;customized view\u0026rdquo; either via Mac/Windows \u0026ldquo;Lomorage Photo Assistant\u0026rdquo;:\nWindows:\nOr via Lomorage iOS/Android APP if you are using \u0026ldquo;Lomorage Photo Assistant in other platforms other than Mac/Windows:\nAndroid:\nOnce you changed the \u0026ldquo;customized view\u0026rdquo;, you can mount the \u0026ldquo;customized view\u0026rdquo; on Windows/Mac. If you are using Mac/Windows \u0026ldquo;Lomorage Photo Assistant\u0026rdquo;, this is done for you automatically once you change \u0026ldquo;customized view\u0026rdquo; and the mounted directory will pop up once change is done. If you are using \u0026ldquo;Lomorage Photo Assistant in other platforms other than Mac/Windows, you can mount it by yourself following the instruction below, Lomorage uses WebDAV protocol and expose it via \u0026ldquo;http://[lomorage-assistant-ip]:8004\u0026rdquo; (no password needed).\n MacOS: https://support.apple.com/guide/mac-help/connect-disconnect-a-webdav-server-mac-mchlp1546/mac Windows: https://www.thewindowsclub.com/how-to-map-webdav-in-windows  "});index.add({'id':22,'href':'/docs/Roadmap/','title':"Roadmap",'section':"Docs",'content':"Finished Features\r#\r\rIOS \u0026amp; Android Client\r#\r\r Photos / videos backup User can upload photos / videos from mobile phone to self hosted server. User can browse all remote backed up photos / videos from mobile phone. Auto mirror backed-up photos / videos to the secondary hard drive nightly  Need configure the secondary hard drive at mobile client user setting.   Family oriented backup and sharing. Each user have its own account and stored under their own home directory. Share photos / videos among family members without leaking to internet. Share photos / videos to TV / monitor screen via below ways:  Lomoframe: User can send selected photos / videos to lomoframe users. Chromecast: Chromecast is auto discovered by the backend system. User can send selected photos / videos to specific chromecast user.    IOS Client\r#\r\r Background upload during sleep mode Client can auto discover photos / videos geo location and user can search photos by Geo location Client can auto recognize text and user can search photos by words in the text. Client can auto find similar photos based on their actual content.  Web Client\r#\r\r User can import photos / videos from local computer . User can browse remote photos / videos from local computer.  Lomo importer\r#\r\rNative application cross Windows /MAC OS to allow user batch import assets\n User can import google takeout zip file directly User can import local directory  Lomoframe\r#\r\rTurn your any screens into photo frame with Raspberry Pi or Armbian Single Board Computer. After installation, user can share photos / videos to this screen\nLomoframe for android tablet\r#\r\rTrun your android tablet int photo frame just install the lomo-android-frame app.\nThirdparty integration\r#\r\rChromecast\r#\r\rLomo backend will auto discover chromecast devices, add into the system as family users, then user can share photos / videos to them from mobile client\nBacklog\r#\r\rAll clients\r#\r\r Scan and import previous backed-up photos / videos Album management Remote backup more AI features  Android client\r#\r\r Background upload - Work In Progress Similarity detect based on content - Work In Progress Metadata search  Lomo Importer:\r#\r\r Import google takeout metadata  Thirdparty integration\r#\r\r Magic Mirror module for lomorage - Work In Progress Amazon Fire TV - Work In Progress Roku app  "});})();