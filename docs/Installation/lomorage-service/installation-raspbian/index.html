<!doctype html><html lang=en dir=ltr><head><meta name=generator content="Hugo 0.78.1"><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Install &ldquo;Lomorage Photo Assistant&rdquo; on Raspberry Pi#To run on Raspberry Pi, you need to order a Raspberry Pi, we have tested the image the following models:
 Raspberry Pi 4 Model B Raspberry Pi 3 Model B+ Raspberry Pi Zero W Raspberry Pi 2 Model B  If you don&rsquo;t have one yet, we would recommend the newer version, which gives better performance. The minimum set you need includes:"><meta name=theme-color content="#FFFFFF"><meta property="og:title" content="Raspbian"><meta property="og:description" content="Install &ldquo;Lomorage Photo Assistant&rdquo; on Raspberry Pi#To run on Raspberry Pi, you need to order a Raspberry Pi, we have tested the image the following models:
 Raspberry Pi 4 Model B Raspberry Pi 3 Model B+ Raspberry Pi Zero W Raspberry Pi 2 Model B  If you don&rsquo;t have one yet, we would recommend the newer version, which gives better performance. The minimum set you need includes:"><meta property="og:type" content="article"><meta property="og:url" content="https://docs.lomorage.com/docs/Installation/lomorage-service/installation-raspbian/"><meta property="article:modified_time" content="2022-04-03T23:36:52-07:00"><title>Raspbian | Lomorage Documentation</title><link rel=manifest href=/manifest.json><link rel=icon href=/favicon.png type=image/x-icon><link rel=alternate hreflang=zh href=https://docs.lomorage.com/zh/docs/Installation/lomorage-service/installation-raspbian/ title=Raspbian><link rel=stylesheet href=/book.min.d805fe2ebdefe4129affdf99919216bbf7f9e3d6ed05e1b743c4e4266ceb6543.css integrity="sha256-2AX+Lr3v5BKa/9+ZkZIWu/f549btBeG3Q8TkJmzrZUM="><script defer src=/en.search.min.df5fbf4f7be9bd7dd3595d57d605210833b0f20f60cab847c29271b1961cbdfa.js integrity="sha256-31+/T3vpvX3TWV1X1gUhCDOw8g9gyrhHwpJxsZYcvfo="></script><script defer src=/sw.min.74a8bb07f0bee86d6bb9a2750f073f14d93c7e4512f28860370cfd879e9719b4.js integrity="sha256-dKi7B/C+6G1ruaJ1Dwc/FNk8fkUS8ohgNwz9h56XGbQ="></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-138235951-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a href=/><span>Lomorage Documentation</span></a></h2><div class=book-search><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><ul><li class=book-section-flat><a href=https://docs.lomorage.com/docs/Highlight/>Highlight</a><ul></ul></li><li class=book-section-flat><a href=https://docs.lomorage.com/docs/Installation/>Installation</a><ul><li><a href=https://docs.lomorage.com/docs/Installation/lomorage-service/>Lomorage Photo Assistant</a><ul><li><a href=https://docs.lomorage.com/docs/Installation/lomorage-service/installation-raspbian/ class=active>Raspbian</a></li><li><a href=https://docs.lomorage.com/docs/Installation/lomorage-service/installation-armbian/>Armbian</a></li><li><a href=https://docs.lomorage.com/docs/Installation/lomorage-service/installation-ubuntu/>Ubuntu</a></li><li><a href=https://docs.lomorage.com/docs/Installation/lomorage-service/installation-win/>Windows</a></li><li><a href=https://docs.lomorage.com/docs/Installation/lomorage-service/installation-osx/>OSX</a></li><li><a href=https://docs.lomorage.com/docs/Installation/lomorage-service/installation-docker/>Docker</a></li><li><a href=https://docs.lomorage.com/docs/Installation/lomorage-service/installation-openwrt/>Openwrt</a></li><li><a href=https://docs.lomorage.com/docs/Installation/lomorage-service/installation-synology/>Synology</a></li><li><a href=https://docs.lomorage.com/docs/Installation/lomorage-service/installation-unraid/>Unraid</a></li></ul></li><li><a href=https://docs.lomorage.com/docs/Installation/lomorage-client/>Lomorage Client</a><ul><li><a href=https://docs.lomorage.com/docs/Installation/lomorage-client/installation-ios/>iOS</a></li><li><a href=https://docs.lomorage.com/docs/Installation/lomorage-client/installation-android/>Android</a></li><li><a href=https://docs.lomorage.com/docs/Installation/lomorage-client/installation-web/>Web</a></li></ul></li><li><a href=https://docs.lomorage.com/docs/Installation/lomo-frame/>Lomorage Frame</a><ul></ul></li><li class=book-section-flat><a href=https://docs.lomorage.com/docs/Installation/lomorage-importer/>Import Tool</a><ul></ul></li></ul></li><li class=book-section-flat><a href=https://docs.lomorage.com/docs/Usage/>Usage</a><ul><li><a href=https://docs.lomorage.com/docs/Usage/lomorage-client/>Lomorage Command Line Client</a><ul></ul></li><li><a href=https://docs.lomorage.com/docs/Usage/external-access/>External Access</a><ul></ul></li><li><a href=https://docs.lomorage.com/docs/Usage/customized-view/>Customized View</a><ul></ul></li></ul></li><li class=book-section-flat><a href=https://docs.lomorage.com/docs/Roadmap/>Roadmap</a><ul></ul></li></ul><ul><li><a href=https://github.com/lomorage/homepage target=_blank rel=noopener>Github</a></li><li><a href=https://lomorage.com target=_blank rel=noopener>Homepage</a></li></ul></nav><script>(function(){var menu=document.querySelector("aside.book-menu nav");addEventListener("beforeunload",function(event){localStorage.setItem("menu.scrollTop",menu.scrollTop);});menu.scrollTop=localStorage.getItem("menu.scrollTop");})();</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/svg/menu.svg class=book-icon alt=Menu></label>
<strong>Raspbian</strong>
<label for=toc-control><img src=/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><a href=#install-lomorage-photo-assistant-on-raspberry-pi>Install &ldquo;Lomorage Photo Assistant&rdquo; on Raspberry Pi</a><ul><li><a href=#install-with-prebuild-os-image>Install with prebuild OS image</a></li><li><a href=#docker-installation>Docker installation</a></li><li><a href=#apt-installation>Apt installation</a><ul><li><a href=#1-add-lomoware-source>1. Add lomoware source</a></li><li><a href=#2-install-lomorage>2. Install Lomorage</a></li><li><a href=#3-configuration-parameter-customization>3. Configuration parameter customization</a></li><li><a href=#4-run>4. Run</a></li></ul></li></ul></li></ul></nav></aside></header><article class=markdown><h1 id=install-lomorage-photo-assistant-on-raspberry-pi>Install &ldquo;Lomorage Photo Assistant&rdquo; on Raspberry Pi
<a class=anchor href=#install-lomorage-photo-assistant-on-raspberry-pi>#</a></h1><p>To run on Raspberry Pi, you need to order a
<a href=https://www.raspberrypi.org/>Raspberry Pi</a>, we have tested the image the following models:</p><ul><li><a href=https://www.raspberrypi.org/products/raspberry-pi-4-model-b/>Raspberry Pi 4 Model B</a></li><li><a href=https://www.raspberrypi.org/products/raspberry-pi-3-model-b-plus/>Raspberry Pi 3 Model B+</a></li><li><a href=https://www.raspberrypi.org/products/raspberry-pi-zero-w/>Raspberry Pi Zero W</a></li><li><a href=https://www.raspberrypi.org/products/raspberry-pi-2-model-b/>Raspberry Pi 2 Model B</a></li></ul><p>If you don&rsquo;t have one yet, we would recommend the newer version, which gives better performance. The minimum set you need includes:</p><ul><li>Raspberry Pi board</li><li>Power supply</li><li>16GB MicroSD card</li></ul><p>A
<a href=https://www.pishop.us/product/raspberry-pi-3-b-plus-starter-kit/>Raspberry Pi 3 B+ (PLUS) Starter Kit</a> is good enough for the setup.</p><p><strong>There are 3 options to install &ldquo;Lomorage Photo Assistant&rdquo; on Raspberry Pi</strong>, one is using the prebuild OS image which has all the dependencies installed, or you can run docker image on your existing running Raspberry Pi, or if you can just use APT install.</p><h2 id=install-with-prebuild-os-image>Install with prebuild OS image
<a class=anchor href=#install-with-prebuild-os-image>#</a></h2><p>The prebuild image includes all Lomorage packages, including:</p><ul><li><p>lomo-backend: &ldquo;Lomorage Photo Assistant&rdquo; backend</p></li><li><p>lomo-base: network configure tool, button control, hard drive mount tool (usbmount modification), bluetooth console</p></li><li><p>lomo-frame: the digital frame application</p></li></ul><p>Click the link below to download the prebuild OS image.</p><p align=center><a href=https://github.com/lomorage/pi-gen/releases/download/2021_11_05.23_32_53.0.4a997ab/image_2021-11-05-lomorage-lite.zip title="Install Lomorage for Raspberry Pi" class="badge raspberrypi">Raspberry Pi</a></p><p>After you download the customized OS image, you can install the image to MicroSD card using
<a href=https://www.balena.io/etcher/>balenaEtcher</a>, which is available on both Windows and macOS.</p><p>After you insert the MicroSD to your desktop or laptop, just select the image you download, choose the MicroSD drive, and click &ldquo;Flash&rdquo;, it will be done in a few minutes.</p><p align=center><img width=50% src=/img/installation/balenaEtcher.png></p><p>After flushing the image, insert the microSD into Raspberry Pi board, connect USB hard drive with Raspberry Pi, plug in a network cable, plug in the power supply, turn on the power and wait a few minutes for system boot.</p><p>If you have HDMI connected, after system boot successfully, it will show up a screen that no able to find any assets, and will also show a QRCode for register the lomo frame, <strong>please create user on iOS/Android APP first before scanning the QRCode to bind the lomo frame</strong>. You can upload photos using Lomorage Phone app, and then press &ldquo;r&rdquo; to rescan. If you want to quit to terminal to do some configuration, just press &ldquo;ESC&rdquo; and then &ldquo;Ctrl+Alt+F2&rdquo;, after you made any changes and want to start lomo-frame, use command <code>sudo service supervisor restart</code>.</p><p><em>The default login username is &ldquo;lomoware&rdquo; and password is &ldquo;lomorage&rdquo;</em></p><p>We suggest use cable to provide better performance, but if you prefer to use WiFi, you can login Raspberry Pi and use the command <code>wifi_switch.sh client "wifi-ssid" wifi-password</code>, replace &ldquo;wifi-ssid&rdquo; and &ldquo;wifi-password&rdquo; with those of your wifi network. <em>Make sure you have quotation mark around &ldquo;wifi-ssid&rdquo; if you have space or unicode character in it, for example <code>wifi_switch.sh client "Lomorage's 2.4G" mypassword</code>.</em></p><blockquote class="book-hint warning"><p>You probably will have the problem that &ldquo;Wi-Fi is currently blocked by rfkill&rdquo;. You can confirm this by running:</p><pre><code>pi@raspberrypi:~ $ sudo rfkill list all
0: phy0: Wireless LAN
	Soft blocked: no
	Hard blocked: no
1: hci0: Bluetooth
	Soft blocked: yes
	Hard blocked: no
</code></pre><p>And you can enable WiFi by running:</p><pre><code>sudo rfkill unblock 0
</code></pre><p>assuming 0 is the index of Wireless LAN.</p><p>After this, you can try <code>wifi_switch.sh</code> again.</p></blockquote><h2 id=docker-installation>Docker installation
<a class=anchor href=#docker-installation>#</a></h2><p>Please refer to
<a href=https://github.com/lomorage/lomo-docker>lomo-docker</a> for installation with docker image. You should use the arm image &ldquo;lomorage/raspberrypi-lomorage:latest&rdquo;.</p><h2 id=apt-installation>Apt installation
<a class=anchor href=#apt-installation>#</a></h2><p>If you have the official Raspbian image installed already, APT installation would be the quickest way to install.</p><h3 id=1-add-lomoware-source>1. Add lomoware source
<a class=anchor href=#1-add-lomoware-source>#</a></h3><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>sudo apt install -y ca-certificates python3-certifi
sudo update-ca-certificates --fresh
curl -fsSL https://lomoware.lomorage.com/debian/gpg.key | gpg --dearmor | sudo tee /etc/apt/trusted.gpg.d/lomorage-apt-key.gpg &gt; /dev/null
</code></pre></div><p>If you are using buster:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>echo <span style=color:#e6db74>&#34;deb https://lomoware.lomorage.com/debian/buster buster main&#34;</span> | sudo tee /etc/apt/sources.list.d/lomoware.list
</code></pre></div><p>If you are using bullseye:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>echo <span style=color:#e6db74>&#34;deb https://lomoware.lomorage.com/debian/bullseye bullseye main&#34;</span> | sudo tee /etc/apt/sources.list.d/lomoware.list
</code></pre></div><p>then run:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>sudo apt update
</code></pre></div><h3 id=2-install-lomorage>2. Install Lomorage
<a class=anchor href=#2-install-lomorage>#</a></h3><p>You need at least lomo-vips and lomo-backend installed.</p><ul><li><p>lomo-backend: mandatory, &ldquo;Lomorage Photo Assistant&rdquo; backend</p></li><li><p>lomo-base: optional, network configure tool, button control, hard drive mount tool, bluetooth console</p></li><li><p>lomo-vips: mandatory, lomorage vips clone. (A fast image processing library with low memory needs), used by lomo-backend</p></li><li><p>lomo-frame: optional, the digital frame application</p></li></ul><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>sudo apt install lomo-base lomo-vips lomo-backend lomo-frame -y
</code></pre></div><p>Make sure the user can sudo without password, if not, execute the following command to add it:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>echo <span style=color:#e6db74>&#34;</span>$USER<span style=color:#e6db74> ALL=(ALL:ALL) NOPASSWD: ALL&#34;</span> | sudo tee /etc/sudoers.d/$USER
</code></pre></div><h3 id=3-configuration-parameter-customization>3. Configuration parameter customization
<a class=anchor href=#3-configuration-parameter-customization>#</a></h3><p>User can use environment variable in &ldquo;/opt/lomorage/etc/environment&rdquo; to control configuration parameter as below. You can change based on your own setup.</p><h4 id=31-change-mount-directory>3.1 Change mount directory
<a class=anchor href=#31-change-mount-directory>#</a></h4><p>You may need to specify the mount directory if the USB drive is not mounted in &ldquo;/media&rdquo; directory.</p><p>For example if you are using PCManFM, then the mount directory will be &ldquo;/media/pi&rdquo;. To specify the mount directory to be &ldquo;/media/pi&rdquo;, add environment variable <code>LOMOD_MOUNT_DIR=/media/pi</code> in <code>/opt/lomorage/etc/environment</code>, such as</p><pre><code>echo &quot;LOMOD_MOUNT_DIR=/media/pi&quot; | tee -a /opt/lomorage/etc/environment
</code></pre><p><strong>this parameter should be the directory mount, not the sub-directory</strong></p><p><strong>Make sure the user has the r/w permission for above mount directory, this parameter should be the parent directory mounted, for example if it&rsquo;s mounted as &ldquo;/media/pi/disk0&rdquo;, then you should use &ldquo;/media/pi/&rdquo;.</strong></p><h4 id=32-http-listen-port>3.2 HTTP Listen Port
<a class=anchor href=#32-http-listen-port>#</a></h4><p>Lomod listens on port 8000 by default. If it is conflict and you want to specify own listen port, you can add environment variable <code>LOMOD_PORT_HTTP</code> in <code>/opt/lomorage/etc/environment</code>. For example,</p><pre><code>echo &quot;LOMOD_PORT_HTTP=8888&quot; | tee -a /opt/lomorage/etc/environment
</code></pre><p>Another option is <code>cp /lib/systemd/system/lomod.service /etc/systemd/system/lomod.service</code> and then edit &ldquo;/etc/systemd/system/lomod.service&rdquo; and change &ldquo;ExecStart&rdquo; directly to specify the parameters used(run <code>/opt/lomorage/bin/lomod -h</code> to check the parameters), and run <code>sudo systemctl daemon-reload</code>, then it will use &ldquo;/etc/systemd/system/lomod.service&rdquo; instead. &ldquo;/lib/systemd/system/lomod.service&rdquo; is expected to be overwritten when upgrade.</p><h4 id=33-disable-mount-monitor>3.3 Disable Mount Monitor
<a class=anchor href=#33-disable-mount-monitor>#</a></h4><p>Lomod listens USB disk mount status and prevents app from uploading if USB or UFS mount are lost by default at raspberry PI environment because it may use up OS SD card space very quickly. If you want to disable the monitor, you can add environment variable <code>LOMOD_DISABLE_MOUNT_MONITOR</code>. For example,</p><pre><code>echo &quot;LOMOD_DISABLE_MOUNT_MONITOR=1&quot; | tee -a /opt/lomorage/etc/environment
</code></pre><h3 id=4-run>4. Run
<a class=anchor href=#4-run>#</a></h3><p>Restart &ldquo;Lomorage Photo Assistant&rdquo;:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#75715e># restart lomo-backend</span>
sudo systemctl restart lomod

<span style=color:#75715e># restart lomo-frame</span>
sudo service supervisor restart
</code></pre></div></article><footer class=book-footer><div class="flex flex-wrap justify-between"><div class=book-languages tabindex=0 aria-haspopup=true><ul><li class="flex align-center"><img src=/svg/translate.svg class=book-icon alt=Languages>
English</li></ul><ul class=book-languages-list><li class=active><a href=https://docs.lomorage.com/ class="flex align-center"><img src=/svg/translate.svg class=book-icon alt=Languages>
English</a></li><li><a href=https://docs.lomorage.com/zh/docs/Installation/lomorage-service/installation-raspbian/ class="flex align-center"><img src=/svg/translate.svg class=book-icon alt=Languages>
中文</a></li></ul></div><div><a class="flex align-center" href=https://github.com/lomodoc/homepage/commit/06b275b014e82f486cf3ee9b13e49c33ddaa2b54 title="Last modified by Jiantao Fu | April 3, 2022" target=_blank rel=noopener><img src=/svg/calendar.svg class=book-icon alt=Calendar>
<span>April 3, 2022</span></a></div><div><a class="flex align-center" href=https://github.com/lomodoc/homepage/edit/main/content/docs/Installation/lomorage-service/installation-raspbian.md target=_blank rel=noopener><img src=/svg/edit.svg class=book-icon alt=Edit>
<span>Edit this page</span></a></div></div></footer><div class=book-comments><div id=disqus_thread></div><script type=application/javascript>var disqus_config=function(){};(function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById('disqus_thread').innerHTML='Disqus comments not available by default when the website is previewed locally.';return;}
var d=document,s=d.createElement('script');s.async=true;s.src='//'+"lomorage"+'.disqus.com/embed.js';s.setAttribute('data-timestamp',+new Date());(d.head||d.body).appendChild(s);})();</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></div><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><a href=#install-lomorage-photo-assistant-on-raspberry-pi>Install &ldquo;Lomorage Photo Assistant&rdquo; on Raspberry Pi</a><ul><li><a href=#install-with-prebuild-os-image>Install with prebuild OS image</a></li><li><a href=#docker-installation>Docker installation</a></li><li><a href=#apt-installation>Apt installation</a><ul><li><a href=#1-add-lomoware-source>1. Add lomoware source</a></li><li><a href=#2-install-lomorage>2. Install Lomorage</a></li><li><a href=#3-configuration-parameter-customization>3. Configuration parameter customization</a></li><li><a href=#4-run>4. Run</a></li></ul></li></ul></li></ul></nav></div></aside></main></body></html>